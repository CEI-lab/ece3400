# ECE3400 Fall 2017
## Lab 3 TA Reference
### Introduction
This lab is all about working with FPGAs and digital communication. Here are some talking points for the start of the lab, feel free to use as many or little of these talking points as you want.
* **What is an FPGA?** Describe differences between FPGAs and microcontrollers. Go over some of the advantages and disadvantages of FPGA compared to microcontrollers.
* **Difference between Verilog and other programming languages:** Explain what a hardware description language is and how it is different from other programming languages, such as C or python. Describe what makes a hardware description language useful or list some applications where hardware description languages perform better than traditional programming languages.
* **Parallel vs. serial communication:** Explain the difference between parallel and serial communication. Go over the advantages and disadvantages of each.
* **Digital communication protocols:** Review how some common digital communication protocols work, such as SPI, I2C, or serial. Explain some advantages and disadvantages of each. If you have used some of these protocols, describe how you applied them.
* **How VGA communication works:** Describe basics of how a VGA monitor displays images. Explain why a resistor D2A converter is needed to display color.
* **Methods of waveform generation:** Go over some techniques for generating waveforms using FPGAs and microcontrollers, such as using fast algorithms that approximate waveforms, using a look up table, or using additional hardware, such as oscillators. Go over the advantages and disadvantages of each approach and give some description of how each approach can be implemented.
* **D/A converters and their uses:** Describe what D/A conversion does and why it is useful. Go over different methods of D/A conversion, such as using ICs, using resistor ladders, etc. Go over some of the limitations on D/A conversion, such as conversion speed, accuracy, and resolution.
* **Resistor D/A converter:** Explain specifically how the D/A converter on the VGA adapter works. Make sure the students know that each VGA pin has a load of 50&Omega;. Go over how to calculate the voltage each digital pin should contribute and how to calculate the resistance each digital pin should have to drive. This is explained in detail in the extra help section.
* **Different ways of representing the maze:** Discuss some different ways of representing the maze, both in data and on the computer monitor. Go over some advantages and disadvantages of each methods. An example would be discussing the trade off between representing walls as standalone "blocks" or using the edges of path "blocks" as potential walls. The first approach requires more total blocks, but each block needs to carry less information, as it only needs to describe a block as being a wall or not being a wall. The second approach needs each block to describe if any of its four sides are walls, thus requiring more information.

### Team materials
* 2 Arduino Uno
* 2 FPGA DE0_nano
* 1 VGA screen
* 1 VGA cable
* 1 VGA connector
* 1 VGA switch
* 1 set of speakers
* 1 Stereo phone jack socket
* 1 8-bit R2R DAC
* Various resistors

### Useful references
[DAC datasheet](http://www.bourns.com/docs/Product-Datasheets/R2R.pdf)
[What is VGA?](https://www.computerhope.com/jargon/v/vga.htm)
[VGA communication](https://electronics.stackexchange.com/questions/166681/how-exactly-does-a-vga-cable-work)
[SPI communication](https://learn.sparkfun.com/tutorials/serial-peripheral-interface-spi)
### Extra Help
#### Calculating VGA voltage divider
![VGA adapter schematic](images/VGA_Adapter.png)


***Make sure the students calculate the proper resistor values, even if their VGA adapter already has resistors soldered on to it!*** The calculation of the resistor values is not trivial, and requires some thought. The students should first establish the voltage each pin needs to output by itself. This is done by setting the sum of all the voltages generated by the pin equal to 1V, then establishing a relationship between the voltages, such as the pin representing the MSB has twice the voltage of the 2nd MSB, etc. Using this, students should be able to find the output voltage for each bit. Next comes finding the resistor values. This can be done by setting one pin high, then, using the voltages calculated earlier, establish a relationship between the resistances. This can also be done by setting any combination of the pins high and using the sum of the voltages found earlier. Eventually, the students will have a set of equations that they can use to find the resistance required for each pin. It is highly recommended they use some form of graphing or equation solving software to calculate these resistances.  
